<h1>{{newProduct | json }}</h1>

<form (submit)="addNewProduct()" #addNewProdForm="ngForm">

  <div class="mb-3">
    <label for="exampleInputEmail1" class="form-label">Name:</label>
    <input type="text" [(ngModel)]="newProduct.name" name="name" class="form-control" id="exampleInputEmail1"
      aria-describedby="emailHelp" required pattern="^[a-zA-Z]{3,15}$" #prodName="ngModel">
    @if ( prodName.invalid && prodName.touched ) {
    <div class="text-danger">
      @if (prodName.errors?.['required'] ) {
      <p>Name is Required</p>
      }
      @if (prodName.errors?.['pattern'] ) {
      <p>Name must be greater than 3 characters</p>
      }
    </div>
    }
  </div>

  <div class="mb-3">
    <label for="exampleInputPassword1" class="form-label">Price:</label>
    <input type="number" [(ngModel)]="newProduct.price" name="price" class="form-control" id="exampleInputPassword1">
  </div>
  <div class="mb-3">
    <label for="exampleInputPassword1" class="form-label">Quantity:</label>
    <input type="number" [(ngModel)]="newProduct.quantity" name="quantity" class="form-control"
      id="exampleInputPassword1">
  </div>
  <div class="mb-3">
    <label for="exampleInputPassword1" class="form-label">Image:</label>
    <input type="file" [(ngModel)]="newProduct.imgUrl" name="imgUrl" class="form-control" id="exampleInputPassword1">
  </div>

  <div class="mb-3">
    <label for="" class="form-label">Category:</label>
    <select class="form-select form-select-lg" name="catId" id="" [(ngModel)]="newProduct.catId">
      @for ( category of categories ; track category.id) {
      <option [value]="category.id">{{category.name}}</option>
      }
    </select>
  </div>

  <button type="submit" [disabled]="addNewProdForm.invalid" class="btn btn-primary">Submit</button>
</form>
